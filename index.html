<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IQ Arena</title>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&display=swap" rel="stylesheet">
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            font-family: 'Cairo', sans-serif;
            color: white;
            overflow: hidden; /* Ù„Ù…Ù†Ø¹ Ø¸Ù‡ÙˆØ± scrollbars */
            display: flex;
            justify-content: center;
            align-items: center;
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d); /* Ø®Ù„ÙÙŠØ© Ù…ØªØ¯Ø±Ø¬Ø© Ø¬Ù…ÙŠÙ„Ø© */
            background-size: 400% 400%;
            animation: gradientAnimation 15s ease infinite; /* Ø­Ø±ÙƒØ© Ø§Ù„Ø®Ù„ÙÙŠØ© */
        }

        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .screen {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
            pointer-events: none; /* Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªÙØ§Ø¹Ù„ Ù…Ø¹ Ø§Ù„Ø´Ø§Ø´Ø§Øª ØºÙŠØ± Ø§Ù„Ù†Ø´Ø·Ø© */
        }

        .screen.active {
            opacity: 1;
            pointer-events: auto;
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
        #start-screen {
            background: rgba(0, 0, 0, 0.4); /* Ø·Ø¨Ù‚Ø© Ø´ÙØ§ÙØ© ÙÙˆÙ‚ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø§Ù„Ù…ØªØ¯Ø±Ø¬Ø© */
            backdrop-filter: blur(5px);
            justify-content: space-around; /* ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø¨Ø´ÙƒÙ„ Ø£ÙØ¶Ù„ */
            padding-bottom: 50px; /* Ù…Ø³Ø§ÙØ© Ù„Ù„Ø²Ø± ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„ */
        }

        h1 {
            font-size: 4rem;
            color: #fdbb2d; /* Ù„ÙˆÙ† Ø°Ù‡Ø¨ÙŠ Ù„Ø§Ø³Ù… Ø§Ù„Ù„Ø¹Ø¨Ø© */
            text-shadow: 0 0 10px rgba(253, 187, 45, 0.8);
            margin-bottom: 20px;
        }

        .hexagon-container {
            perspective: 1000px; /* Ù„Ø¥Ù†Ø´Ø§Ø¡ Ù…Ù†Ø¸ÙˆØ± Ø«Ù„Ø§Ø«ÙŠ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ */
            margin-top: -50px; /* Ù„Ø±ÙØ¹ Ø§Ù„Ø´ÙƒÙ„ Ù‚Ù„ÙŠÙ„Ø§Ù‹ */
        }

        .hexagon {
            width: 150px;
            height: 150px;
            background: linear-gradient(45deg, #0ea5e9, #6a00ff); /* ØªØ¯Ø±Ø¬ Ø£Ø²Ø±Ù‚ Ø¨Ù†ÙØ³Ø¬ÙŠ */
            position: relative;
            transform-style: preserve-3d;
            animation: rotate3D 10s infinite linear; /* Ø¯ÙˆØ±Ø§Ù† Ø«Ù„Ø§Ø«ÙŠ Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯ */
            border-radius: 10px; /* Ù„Ù„Ø­ÙˆØ§Ù */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 3em;
            font-weight: 900;
            text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
            clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%); /* Ø´ÙƒÙ„ Ø³Ø¯Ø§Ø³ÙŠ */
        }

        @keyframes rotate3D {
            0% { transform: rotateY(0deg) rotateX(0deg); }
            100% { transform: rotateY(360deg) rotateX(360deg); }
        }

        .start-button {
            background: #b21f1f; /* Ù„ÙˆÙ† Ø£Ø­Ù…Ø± Ø¬Ø°Ø§Ø¨ Ù„Ù„Ø²Ø± */
            border: none;
            padding: 18px 60px;
            border-radius: 50px;
            font-weight: 900;
            font-size: 1.5rem;
            color: white;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            transition: transform 0.2s ease, background-color 0.2s ease;
        }

        .start-button:hover {
            transform: translateY(-3px) scale(1.05);
            background-color: #fdbb2d; /* ÙŠØªØºÙŠØ± Ø§Ù„Ù„ÙˆÙ† Ø¹Ù†Ø¯ Ø§Ù„ØªØ­ÙˆÙŠÙ… */
        }

        /* Ø´Ø§Ø´Ø© Ø§Ù„Ø£Ù„ØºØ§Ø² */
        #game-screen {
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(8px);
            padding: 20px;
            box-sizing: border-box;
            justify-content: flex-start; /* Ù„ÙŠÙƒÙˆÙ† Ø§Ù„Ù…Ø­ØªÙˆÙ‰ ÙÙŠ Ø§Ù„Ø£Ø¹Ù„Ù‰ */
            padding-top: 50px;
        }

        #level-indicator {
            font-size: 2rem;
            color: #0ea5e9;
            margin-bottom: 30px;
            font-weight: 700;
        }

        #puzzle-grid {
            display: grid;
            grid-template-columns: repeat(5, 60px); /* Ø´Ø¨ÙƒØ© 5x5 Ù„Ù„Ù‚Ø·Ø¹ */
            grid-template-rows: repeat(5, 60px);
            gap: 5px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            padding: 10px;
            border-radius: 15px;
            background: rgba(0, 0, 0, 0.3);
            max-width: fit-content;
            margin: 0 auto;
        }

        .puzzle-piece {
            width: 60px;
            height: 60px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.1s linear; /* Ø­Ø±ÙƒØ© Ø¯ÙˆØ±Ø§Ù† Ø³Ø±ÙŠØ¹Ø© */
            transform-origin: center;
            position: relative;
            display: flex;
            justify-content: center;
            align-items: center;
            border: 1px solid rgba(255,255,255,0.05);
        }

        .puzzle-piece .line {
            position: absolute;
            background-color: white;
            border-radius: 2px;
        }
        .puzzle-piece .line.h { width: 80%; height: 4px; } /* Ø®Ø· Ø£ÙÙ‚ÙŠ */
        .puzzle-piece .line.v { height: 80%; width: 4px; } /* Ø®Ø· Ø¹Ù…ÙˆØ¯ÙŠ */
        .puzzle-piece .line.d1 { width: 80%; height: 4px; transform: rotate(45deg); } /* Ø®Ø· Ù…Ø§Ø¦Ù„ 1 */
        .puzzle-piece .line.d2 { width: 80%; height: 4px; transform: rotate(-45deg); } /* Ø®Ø· Ù…Ø§Ø¦Ù„ 2 */
        .puzzle-piece .line.half-h-left { width: 40%; height: 4px; left: 0; }
        .puzzle-piece .line.half-h-right { width: 40%; height: 4px; right: 0; }
        .puzzle-piece .line.half-v-top { height: 40%; width: 4px; top: 0; }
        .puzzle-piece .line.half-v-bottom { height: 40%; width: 4px; bottom: 0; }
        .puzzle-piece .line.corner-top-left { width: 40%; height: 4px; top: 0; left: 0; transform-origin: top left; transform: rotate(90deg) translateY(-4px) translateX(calc(50% - 2px)); } /* Ù…Ø«Ø§Ù„ Ù„Ø²Ø§ÙˆÙŠØ© */

        /* Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ¹Ù‚ÙŠØ¯ØŒ Ø³Ù†Ø¨Ø³Ø· ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ù‚Ø·Ø¹ ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
        .puzzle-piece.type-0 { /* Ù„Ø§ Ø´ÙŠØ¡ */ }
        .puzzle-piece.type-1 .line-0 { width: 80%; height: 4px; } /* Ø®Ø· Ù…Ø³ØªÙ‚ÙŠÙ… Ø£ÙÙ‚ÙŠ */
        .puzzle-piece.type-2 .line-0 { width: 80%; height: 4px; transform: rotate(90deg); } /* Ø®Ø· Ù…Ø³ØªÙ‚ÙŠÙ… Ø¹Ù…ÙˆØ¯ÙŠ */
        .puzzle-piece.type-3 .line-0, .puzzle-piece.type-3 .line-1 { width: 40%; height: 4px; left: 0; top: 50%; transform: translateY(-50%); } /* Ø²Ø§ÙˆÙŠØ© Ø­Ø±Ù L */
        .puzzle-piece.type-3 .line-1 { transform: rotate(90deg); transform-origin: left center; left: 50%; top: 50%; }

        /* Ø§Ù„Ø£Ù†Ù…Ø§Ø· Ù„ØªÙ…Ø«ÙŠÙ„ Ø§Ù„Ù‚Ø·Ø¹ØŒ ÙŠÙ…ÙƒÙ† ØªØ­Ø³ÙŠÙ†Ù‡Ø§ Ù„Ø§Ø­Ù‚Ø§Ù‹ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… SVG */
        .piece-straight-h::after, .piece-straight-v::after, .piece-corner::after, .piece-t::after, .piece-cross::after {
            content: '';
            position: absolute;
            background-color: white;
            border-radius: 2px;
        }

        /* Ø®Ø· Ø£ÙÙ‚ÙŠ */
        .piece-straight-h::after { width: 80%; height: 4px; }
        /* Ø®Ø· Ø¹Ù…ÙˆØ¯ÙŠ */
        .piece-straight-v::after { width: 4px; height: 80%; }
        /* Ø²Ø§ÙˆÙŠØ© */
        .piece-corner::before, .piece-corner::after { content: ''; position: absolute; background-color: white; border-radius: 2px; }
        .piece-corner::before { width: 40%; height: 4px; top: 50%; left: 10%; transform: translateY(-50%); }
        .piece-corner::after { width: 4px; height: 40%; left: 50%; top: 10%; transform: translateX(-50%); }
        /* Ù‚Ø·Ø¹Ø© T */
        .piece-t::before, .piece-t::after, .piece-t .center-line { content: ''; position: absolute; background-color: white; border-radius: 2px; }
        .piece-t::before { width: 80%; height: 4px; top: 50%; transform: translateY(-50%); }
        .piece-t::after { width: 4px; height: 40%; top: 10%; left: 50%; transform: translateX(-50%); }
        /* Ù‚Ø·Ø¹Ø© ØªÙ‚Ø§Ø·Ø¹ */
        .piece-cross::before, .piece-cross::after { content: ''; position: absolute; background-color: white; border-radius: 2px; }
        .piece-cross::before { width: 80%; height: 4px; }
        .piece-cross::after { width: 4px; height: 80%; }


    </style>
</head>
<body>

    <div id="start-screen" class="screen active">
        <h1>IQ Arena</h1>
        <div class="hexagon-container">
            <div class="hexagon">ğŸ§ </div>
        </div>
        <button class="start-button" onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨</button>
    </div>

    <div id="game-screen" class="screen">
        <div id="level-indicator">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ 1</div>
        <div id="puzzle-grid">
            </div>
        <button class="start-button" onclick="nextLevel()" style="margin-top: 30px; background: #0ea5e9;">Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ</button>
    </div>

    <script>
        let currentLevel = 1;
        const gridSize = 5; // Ø´Ø¨ÙƒØ© 5x5
        let puzzle = []; // Ù„ØªØ®Ø²ÙŠÙ† Ø­Ø§Ù„Ø© Ø§Ù„Ù‚Ø·Ø¹

        // Ø¯Ø§Ù„Ø© Ø§Ù„ØªØ¨Ø¯ÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø´Ø§Ø´Ø§Øª
        function switchScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© ÙˆØ§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø£Ù„ØºØ§Ø²
        function startGame() {
            switchScreen('game-screen');
            loadLevel(currentLevel);
        }

        // ØªØ­Ù…ÙŠÙ„ Ù…Ø³ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯
        function loadLevel(level) {
            document.getElementById('level-indicator').innerText = `Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${level}`;
            generateRandomPuzzle(gridSize);
            renderPuzzle();
        }

        // ØªÙˆÙ„ÙŠØ¯ Ø£Ù„ØºØ§Ø² Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© (Ù…Ø¨Ø³Ø·Ø© Ø¬Ø¯Ø§Ù‹ Ø­Ø§Ù„ÙŠØ§Ù‹)
        function generateRandomPuzzle(size) {
            puzzle = [];
            const pieceTypes = ['straight-h', 'straight-v', 'corner', 't', 'cross']; // Ø£Ù†ÙˆØ§Ø¹ Ù…Ø¨Ø³Ø·Ø©
            
            for (let i = 0; i < size * size; i++) {
                const type = pieceTypes[Math.floor(Math.random() * pieceTypes.length)];
                const rotation = Math.floor(Math.random() * 4) * 90; // 0, 90, 180, 270
                puzzle.push({ type: type, rotation: rotation });
            }
        }

        // Ø±Ø³Ù… Ø§Ù„Ø£Ù„ØºØ§Ø² ÙÙŠ Ø§Ù„Ø´Ø¨ÙƒØ©
        function renderPuzzle() {
            const gridElement = document.getElementById('puzzle-grid');
            gridElement.innerHTML = ''; // Ù…Ø³Ø­ Ø§Ù„Ø£Ù„ØºØ§Ø² Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø©

            puzzle.forEach((piece, index) => {
                const pieceElement = document.createElement('div');
                pieceElement.className = `puzzle-piece piece-${piece.type}`;
                pieceElement.style.transform = `rotate(${piece.rotation}deg)`;
                pieceElement.onclick = () => rotatePiece(index);

                // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© ØªÙ…Ø«ÙŠÙ„ Ø±Ø³ÙˆÙ…ÙŠ Ù„Ù„Ù‚Ø·Ø¹Ø© (Ø®Ø·ÙˆØ·ØŒ Ø²ÙˆØ§ÙŠØ§ØŒ Ø¥Ù„Ø®.)
                // Ø­Ø§Ù„ÙŠØ§Ù‹ Ù†Ø³ØªØ®Ø¯Ù… CSS pseudo-elements Ù„Ø¨Ø¹Ø¶ Ø§Ù„Ø£Ù†Ù…Ø§Ø·ØŒ ÙˆÙ„ÙƒÙ† SVG Ø³ÙŠÙƒÙˆÙ† Ø£ÙØ¶Ù„
                // for (let i = 0; i < piece.lines; i++) {
                //     const line = document.createElement('div');
                //     line.className = `line line-${i}`;
                //     pieceElement.appendChild(line);
                // }

                gridElement.appendChild(pieceElement);
            });
        }

        // ØªØ¯ÙˆÙŠØ± Ø§Ù„Ù‚Ø·Ø¹Ø© Ø¹Ù†Ø¯ Ø§Ù„Ù†Ù‚Ø±
        function rotatePiece(index) {
            puzzle[index].rotation = (puzzle[index].rotation + 90) % 360;
            renderPuzzle(); // Ø¥Ø¹Ø§Ø¯Ø© Ø±Ø³Ù… Ø§Ù„Ù„ØºØ²
            checkWin(); // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙÙˆØ² Ø¨Ø¹Ø¯ ÙƒÙ„ ØªØ¯ÙˆÙŠØ±
        }

        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙÙˆØ² (Ø³ØªÙƒÙˆÙ† Ù‡Ø°Ù‡ Ø§Ù„Ø¯Ø§Ù„Ø© Ø£ÙƒØ«Ø± ØªØ¹Ù‚ÙŠØ¯Ø§Ù‹ Ù„Ø§Ø­Ù‚Ø§Ù‹)
        function checkWin() {
            // Ù…Ù†Ø·Ù‚ Ø§Ù„ÙÙˆØ² Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø³ÙŠÙƒÙˆÙ† Ù…Ø¹Ù‚Ø¯Ø§Ù‹ ÙˆÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§ØªØµØ§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ·
            // ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ø¥ØµØ¯Ø§Ø± Ø§Ù„Ø£ÙˆÙ„ÙŠØŒ Ù„Ù† ØªÙØ¹Ù„ Ø´ÙŠØ¦Ø§Ù‹ Ø­ØªÙ‰ Ù†Ø·ÙˆØ± Ù…Ù†Ø·Ù‚ Ø§Ù„Ù‚Ø·Ø¹ Ø¨Ø´ÙƒÙ„ ÙƒØ§Ù…Ù„.
            console.log("Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ÙÙˆØ²...");
            // Ù…Ø«Ø§Ù„ Ø¨Ø³ÙŠØ· Ø¬Ø¯Ø§Ù‹: Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù‚Ø·Ø¹ ÙÙŠ Ø§ØªØ¬Ø§Ù‡ Ù…Ø¹ÙŠÙ† (Ù„ØºØ±Ø¶ Ø§Ù„ØªØ¬Ø±Ø¨Ø© ÙÙ‚Ø·)
            // if (puzzle.every(p => p.rotation === 0)) {
            //     alert("ØªÙ‡Ø§Ù†ÙŠÙ†Ø§! Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø§Ù„Ù„ØºØ²!");
            //     // setTimeout(() => nextLevel(), 1000);
            // }
        }

        // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ (Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø±)
        function nextLevel() {
            currentLevel++;
            loadLevel(currentLevel);
        }

        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ Ø§Ù„ØªØ­Ù…ÙŠÙ„
        document.addEventListener('DOMContentLoaded', () => {
            // Ù„Ø§ ØªÙØ¹Ù„ Ø´ÙŠØ¦Ø§Ù‹ ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø³ÙˆÙ‰ Ø¹Ø±Ø¶ Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©
        });
    </script>
</body>
</html>
